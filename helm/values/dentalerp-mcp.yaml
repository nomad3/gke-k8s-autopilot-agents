# MCP Server Helm values for DentalERP
serviceName: mcp-server
namespace: mcp
image:
  repository: gcr.io/ai-agency-479516/mcp-server
  tag: "dev-latest"
  pullPolicy: Always
replicaCount: 1
autoscaling:
  enabled: true
  minReplicas: 1
  maxReplicas: 3
  targetCPUUtilizationPercentage: 70
resources:
  requests:
    cpu: 250m
    memory: 512Mi
  limits:
    cpu: 500m
    memory: 1Gi
service:
  type: ClusterIP
  port: 80
  targetPort: 8085
secret:
  enabled: true
  externalSecret:
    enabled: true
    secretStoreName: gcpsm-secret-store
    refreshInterval: 1h
    data:
      - secretKey: MCP_API_KEY
        remoteRef:
          key: dev-mcp-api-key
      - secretKey: SNOWFLAKE_PASSWORD
        remoteRef:
          key: dev-snowflake-password
      - secretKey: OPENAI_API_KEY
        remoteRef:
          key: dev-openai-api-key
configMap:
  enabled: true
  data:
    ENVIRONMENT: production
    PORT: "8085"
    POSTGRES_HOST: "postgres-instance-ip-placeholder" # Needs to be updated with actual IP
    REDIS_HOST: "redis-master.default.svc.cluster.local"
    REDIS_PORT: "6379"
livenessProbe:
  httpGet:
    path: /health
    port: 8085
readinessProbe:
  httpGet:
    path: /health
    port: 8085
podLabels:
  app: mcp-server
  tier: backend
